(function(){angular.module("NgCastMyData",[]).value("CastMyDataServer","").factory("NgCastMyDataEndpoint",["CastMyDataServer","$timeout",function(a,b){var c=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(a[c],c)};return function(d){var e=new CastMyData.Endpoint(a,d);return e.__proto__.bindToScope=function(a,d){var f=a[d]=[];return this.on("records",function(a){f.splice(0,f.length),a.forEach(function(a){f.push(a)})}),this.on("post",function(a){f.push(a)}),this.on("put",function(a){var b=f.filter(function(b){return b.id==a.id}).pop();b&&c(a,function(a,c){b[c]=a})}),this.on("delete",function(a){var b=f.filter(function(b){return b.id==a.id}).pop(),c=f.indexOf(b);b&&c>-1&&f.splice(c,1)}),this.on("records post put delete broadcast",function(){b(function(){a.$digest()})}),this},e}}])}).call(this);